<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ir_mbshr_mbreqgain" language="groovy" pageWidth="1190" pageHeight="842" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="1150" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="92080cef-f21b-460f-bbdd-421f096ac0a9">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="as_reportid" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_entryid" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_status" class="java.lang.String"/>
	<parameter name="as_smemno" class="java.lang.String"/>
	<parameter name="as_ememno" class="java.lang.String"/>
	<parameter name="adtm_start" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="adtm_end" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_coopid" class="java.lang.String"/>
	<parameter name="as_reportdetail" class="java.lang.String">
		<defaultValueExpression><![CDATA["ระหว่างวันที่ " + new SimpleDateFormat("dd/MM/yyyy", new Locale("th", "TH")).format($P{adtm_start}) + " ถึง " + new SimpleDateFormat("dd/MM/yyyy", new Locale("th", "TH")).format($P{adtm_end})]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
	gm.gain_docno,
	mb.member_no,
	pn.prename_desc,
	mb.memb_name,
	mb.memb_surname,
	TO_CHAR(gm.write_date, 'dd/MM/yyyy', 'NLS_CALENDAR=''THAI BUDDHA'' NLS_DATE_LANGUAGE=THAI') as write_date,
	gm.approve_status,
	cm.coop_name
from mbreqgain gm

left join mbmembmaster mb on gm.member_no = mb.member_no
left join mbucfprename pn on mb.prename_code = pn.prename_code
left join cmcoopmaster cm on gm.coop_id = cm.coop_id
where gm.coop_id = $P{as_coopid}
	and gm.approve_status LIKE '%' || $P{as_status} || '%'
	and trunc(gm.entry_date) between $P{adtm_start} and $P{adtm_end}
	and gm.member_no between $P{as_smemno} and $P{as_ememno}
order by gm.write_date, gm.member_no]]>
	</queryString>
	<field name="GAIN_DOCNO" class="java.lang.String"/>
	<field name="MEMBER_NO" class="java.lang.String"/>
	<field name="PRENAME_DESC" class="java.lang.String"/>
	<field name="MEMB_NAME" class="java.lang.String"/>
	<field name="MEMB_SURNAME" class="java.lang.String"/>
	<field name="WRITE_DATE" class="java.lang.String"/>
	<field name="APPROVE_STATUS" class="java.math.BigDecimal"/>
	<field name="COOP_NAME" class="java.lang.String"/>
	<group name="member_group">
		<groupExpression><![CDATA[$F{MEMBER_NO}]]></groupExpression>
		<groupFooter>
			<band height="12">
				<line>
					<reportElement uuid="bf466b6c-9244-4984-9783-ebb51b6465fd" x="0" y="1" width="1150" height="1"/>
					<graphicElement>
						<pen lineWidth="0.75"/>
					</graphicElement>
				</line>
			</band>
		</groupFooter>
	</group>
	<pageHeader>
		<band height="20" splitType="Stretch">
			<subreport>
				<reportElement uuid="7596fcf0-725b-4f64-a6e1-57c7c477c142" x="0" y="0" width="1150" height="20"/>
				<subreportParameter name="as_coopid">
					<subreportParameterExpression><![CDATA[$P{as_coopid}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="as_reportid">
					<subreportParameterExpression><![CDATA[$P{as_reportid}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="as_entryid">
					<subreportParameterExpression><![CDATA[$P{as_entryid}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="as_reportdetail">
					<subreportParameterExpression><![CDATA[$P{as_reportdetail}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["report_header\\hrader_a3_landscape.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="41" splitType="Stretch">
			<staticText>
				<reportElement uuid="feb47267-4149-4d34-81de-ebe56aea4aa0" x="0" y="0" width="42" height="41"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ลำดับ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="b0cfd0bb-a27f-4df1-b188-a00b93ed91de" x="42" y="0" width="83" height="41"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[เลขที่ใบคำขอ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="f872bbdd-545f-4981-b220-a68c7b1c1f43" x="125" y="0" width="58" height="41"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[เลขสมาชิก]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="0e8e9a8c-5c9d-4625-8563-b5e7fd57567b" x="183" y="0" width="169" height="41"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ชื่อ - สกุล]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="7fdff679-de12-4d8c-8ff3-4ac3545766f3" x="352" y="0" width="88" height="41"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[วันที่แต่งตั้ง]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="10ef48ec-ad54-4465-b872-1f8174a7953d" x="440" y="0" width="34" height="41"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ลำดับ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="f1e4216f-c807-49ce-8f58-2bd72dc6841d" x="474" y="0" width="227" height="21"/>
				<box>
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ผู้รับผลประโยชน์เดิม]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c318df41-d4a7-462f-be6b-7ff196c163d3" x="474" y="21" width="162" height="20"/>
				<box>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ชื่อ - สกุล]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="dfbe196c-53f8-43aa-aeb7-c280c8c2c939" x="636" y="20" width="65" height="21"/>
				<box>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ความสัมพันธ์]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="58ca59fd-925e-4600-9b6b-67b734c62fab" x="735" y="21" width="153" height="20"/>
				<box>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ชื่อ - สกุล]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="8b8aff49-8df7-446d-a67f-401499b188d6" x="735" y="0" width="353" height="21"/>
				<box>
					<topPen lineWidth="0.75"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ผู้รับผลประโยชน์ใหม่]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="ea57ee2d-db49-4186-bbb3-bd14295a7338" x="888" y="21" width="70" height="20"/>
				<box>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ความสัมพันธ์]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c679918d-de10-417f-b291-9308d69fc73f" x="1042" y="21" width="46" height="20"/>
				<box>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[เงื่อนไข]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="e64c8354-914b-41c6-a95e-c1f4da5a8402" x="1088" y="0" width="62" height="41"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[สถานะ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="df1c02d7-e8b7-41fd-86bd-c02a7043966c" x="958" y="21" width="84" height="20"/>
				<box>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[เลขที่บัตร]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="87eaba24-b6cd-4007-ac71-2e502ffde203" x="701" y="0" width="34" height="41"/>
				<box>
					<topPen lineWidth="0.75"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.75"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ลำดับ]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement uuid="e12d3990-c49d-4f79-a124-ab0ce9b79be9" x="0" y="0" width="42" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="6875d367-0107-40f1-ae90-fceb6f8ea089" isPrintRepeatedValues="false" x="184" y="0" width="168" height="20"/>
				<textElement>
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $F{PRENAME_DESC} + $F{MEMB_NAME} + " " + $F{MEMB_SURNAME}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="c58abb8d-a191-4ad1-b0ea-eee7c664e700" x="1088" y="0" width="62" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{APPROVE_STATUS} == 1 ? "อนุมัติ" :
$F{APPROVE_STATUS} == 8 ? "รออนุมัติ" : "ไม่อนุมัติ"]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement uuid="e5209b0e-e25c-4df9-88d7-e9ad9f8528e4" isPrintRepeatedValues="false" x="440" y="0" width="261" height="20"/>
				<subreportParameter name="gain_docno">
					<subreportParameterExpression><![CDATA[$F{GAIN_DOCNO}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["ir_mbshr_mbreqgain_gain_old.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement uuid="df10b8b6-0bfc-481d-b2b7-b38be2fdd9bc" isPrintRepeatedValues="false" x="701" y="0" width="387" height="20"/>
				<subreportParameter name="gain_docno">
					<subreportParameterExpression><![CDATA[$F{GAIN_DOCNO}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["ir_mbshr_mbreqgain_gain_new.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement uuid="5a4f964f-bd16-42a7-a535-9f8b0707e11f" isPrintRepeatedValues="false" x="125" y="0" width="58" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{MEMBER_NO}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="7d9af36e-ae3d-4c29-ac22-0308bc9b1c27" isPrintRepeatedValues="false" x="42" y="0" width="83" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{GAIN_DOCNO}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="81666956-decc-4918-bb38-a992494142a8" x="352" y="0" width="88" height="20"/>
				<textElement textAlignment="Center">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{WRITE_DATE}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
